<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>react state状态</title>
</head>
<body>
    <div id="root"></div>
    <script src="js/react.development.js"></script>
    <script src="js/react-dom.development.js"></script>
    <script src="js/babel.min.js"></script>
    <script type="text/babel">
        //state中的值不能直接修改！！！！！！！！！
        //setState()语法：setState({属性：属性值}) 作用：修改state

        class App extends React.Component{
    //事件绑定this指向问题
        //1.箭头函数中的this指向外层     
        //2. constructor()作用：将事件处理程序中的this与组件实例绑定
            constructor(){
                super()
                this.jk=this.jk.bind(this)
                this.state={
                count:0
                }
            }
        //3.利用箭头函数形式的class实例方法
            classCount=()=>{
                this.setState({
                       count: this.state.count+2
                    })                
            }
            
            jk(){
                this.setState({
                       count: this.state.count=0
                    })
            }

            render(){
                return <div>
                    <h1>计数：{this.state.count}</h1>
                    <button onClick={()=>{
                    this.setState({
                       count: this.state.count+1
                    })
                }}>count：+1</button>
                <br/>
                <button onClick={this.classCount}>count：+2</button>
                <br/>
                <button onClick={this.jk}>count：归零</button>
                </div>
            }
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<div><App/></div>)
    </script>
</body>
</html>